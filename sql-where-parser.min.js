!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.SqlWhereParser=t()}}(function(){return function t(e,r,n){function o(s,u){if(!r[s]){if(!e[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[s]={exports:{}};e[s][0].call(l.exports,function(t){var r=e[s][1][t];return o(r?r:t)},l,l.exports,t,e,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=t("es6-symbol"),u=t("./Tokenizer"),a=s("-"),c=1,l=2,f=3,h=o({},a,c),p={operators:[{"!":c},h,{"^":l},{"*":l,"/":l,"%":l},{"+":l,"-":l},{"=":l,"<":l,">":l,"<=":l,">=":l,"!=":l},{",":l},{NOT:c},{BETWEEN:f,IN:l,IS:l,LIKE:l},{AND:l},{OR:l}],tokenizer:{shouldTokenize:["(",")",",","*","/","%","+","-","=","!=","<",">","<=",">=","!"],shouldMatch:['"',"'","`"],shouldDelimitBy:[" ","\n","\r","\t"]}},y=function(){function t(e,r,o){n(this,t),this.value=e,this.type=r,this.precedence=o}return i(t,[{key:"toJSON",value:function(){return this.value}},{key:"toString",value:function(){return""+this.value}}]),t}(),d=function(){function t(e){var r=this;n(this,t),e||(e={}),e=Object.assign({},e,p),this.tokenizer=new u(e.tokenizer),this.operators={},e.operators.forEach(function(t,e){Object.keys(t).concat(Object.getOwnPropertySymbols(t)).forEach(function(n){r.operators[n]=new y(n,t[n],e)})})}return i(t,[{key:"operatorPrecedenceFromValues",value:function(t, e){return this.operators[e].precedence<=this.operators[t].precedence}},{key:"getOperator",value:function(t){return"string"==typeof t?this.operators[t.toUpperCase()]:null}},{key:"defaultEvaluator",value:function(t, e){return t===a&&(t="-"),","===t?[].concat(e[0],e[1]):o({},t,e)}},{key:"parse",value:function(t, e){var r=this,n=[],o=[],i=void 0,s=0,u=!1;for(e||(e=this.defaultEvaluator),this.tokenizer.tokenize("("+t+")",function(t, c){if(s++,"string"!=typeof t||c)o.push(t),u=!1;else{var l=t.toUpperCase();if(r.operators[l]){if("BETWEEN"===i&&"AND"===l)return void(i="AND");for("-"!==l||1!==s&&!u||(l=a); n[n.length-1]&&"("!==n[n.length-1]&&r.operatorPrecedenceFromValues(l,n[n.length-1]);){for(var f=r.operators[n.pop()],h=[],p=f.type; p--;)h.unshift(o.pop());o.push(e(f.value,h))}n.push(l),i=l,u=!0}else if("("===t)n.push(t),u=!0;else if(")"===t){for(; n.length&&"("!==n[n.length-1];){for(var y=r.operators[n.pop()],d=[],m=y.type; m--;)d.unshift(o.pop());o.push(e(y.value,d))}if(!n.length)throw new SyntaxError("Unmatched parenthesis.");n.pop(),u=!1}else o.push(t),u=!1}}); n.length;){var c=n.pop();if("("===c)throw new SyntaxError("Unmatched parenthesis.");for(var l=this.operators[c],f=[],h=l.type; h--;)f.unshift(o.pop());o.push(e(l.value,f))}if(o.length>1)throw new SyntaxError("Could not reduce to a single expression.");return o[0]}},{key:"toArray",value:function(t){var e=this,r=[],n=[];for(this.tokenizer.tokenize("("+t+")",function(t,o){switch(t){case"(":n.push(r.length);break;case")":for(var i=n.pop(),s=r.splice(i,r.length);s&&s.constructor===Array&&1===s.length;)s=s[0];r.push(s);break;case"":break;case",":break;default:var u=null;o||(u=e.getOperator(t)),r.push(u?u:t)}});r&&r.constructor===Array&&1===r.length;)r=r[0];return r}}],[{key:"defaultConfig",get:function(){return p}},{key:"Operator",get:function(){return y}},{key:"OPERATOR_UNARY_MINUS",get:function(){return a}}]),t}();e.exports=d},{"./Tokenizer":2,"es6-symbol":3}],2:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i="modeNone",s="modeDefault",u="modeMatch",a=function(t,e){return t.length>e.length?-1:t.length<e.length?1:0},c={shouldTokenize:["(",")",",","*","/","%","+","-","=","!=","<",">","<=",">=","!"],shouldMatch:['"',"'","`"],shouldDelimitBy:[" ","\n","\r","\t"]},l=function(){function t(e,r,o){n(this,t),this.tokenizer=e,this.str=r,this.forEachToken=o,this.previousChr="",this.toMatch="",this.currentToken="",this.modeStack=[i]}return o(t,[{key:"getCurrentMode",value:function(){return this.modeStack[this.modeStack.length-1]}},{key:"setCurrentMode",value:function(t){return this.modeStack.push(t)}},{key:"completeCurrentMode",value:function(){var t=this.getCurrentMode();return t===s&&this.pushDefaultModeTokenizables(),(t===u&&""===this.currentToken||""!==this.currentToken)&&this.push(this.currentToken),this.currentToken="",this.modeStack.pop()}},{key:"push",value:function(t){var e="";if(this.getCurrentMode()!==u)switch(t.toLowerCase()){case"null":t=null;break;case"true":t=!0;break;case"false":t=!1;break;default:isFinite(t)&&(t=Number(t))}else e=this.toMatch;this.forEachToken&&this.forEachToken(t,e)}},{key:"tokenize",value:function(){for(var t=0;t<this.str.length;)this.consume(this.str.charAt(t++));for(;this.getCurrentMode()!==i;)this.completeCurrentMode()}},{key:"consume",value:function(t){this[this.getCurrentMode()](t),this.previousChr=t}},{key:i,value:function(t){return this.tokenizer.matchMap[t]?(this.setCurrentMode(u),this.toMatch=t):(this.setCurrentMode(s),this.consume(t))}},{key:s,value:function(t){return this.tokenizer.delimiterMap[t]?this.completeCurrentMode():(this.currentToken+=t,this.currentToken)}},{key:"pushDefaultModeTokenizables",value:function(){for(var t=0,e=1/0,r=null;this.currentToken&&t<this.tokenizer.tokenizeList.length;){var n=this.tokenizer.tokenizeList[t++],o=this.currentToken.indexOf(n);o!==-1&&o<e&&(e=o,r=n)}if(r)return e>0&&this.push(this.currentToken.substring(0,e)),e!==-1?(this.push(r),this.currentToken=this.currentToken.substring(e+r.length),this.pushDefaultModeTokenizables()):void 0}},{key:u,value:function(t){if(t===this.toMatch){if("\\"!==this.previousChr)return this.completeCurrentMode();this.currentToken=this.currentToken.substring(0,this.currentToken.length-1)}return this.currentToken+=t}}]),t}(),f=function(){function t(e){var r=this;n(this,t),e||(e={}),e=Object.assign({},e,c),this.tokenizeList=[],this.tokenizeMap={},this.matchList=[],this.matchMap={},this.delimiterList=[],this.delimiterMap={},e.shouldTokenize.sort(a).forEach(function(t){r.tokenizeList.push(t),r.tokenizeMap[t]=t}),e.shouldMatch.forEach(function(t){r.matchList.push(t),r.matchMap[t]=t}),e.shouldDelimitBy.forEach(function(t){r.delimiterList.push(t),r.delimiterMap[t]=t})}return o(t,[{key:"tokenize",value:function(t,e){var r=new l(this,t,e);return r.tokenize()}}],[{key:"defaultConfig",get:function(){return c}}]),t}();e.exports=f},{}],3:[function(t,e,r){"use strict";e.exports=t("./is-implemented")()?Symbol:t("./polyfill")},{"./is-implemented":4,"./polyfill":19}],4:[function(t,e,r){"use strict";var n={object:!0,symbol:!0};e.exports=function(){var t;if("function"!=typeof Symbol)return!1;t=Symbol("test symbol");try{String(t)}catch(t){return!1}return!!n[typeof Symbol.iterator]&&(!!n[typeof Symbol.toPrimitive]&&!!n[typeof Symbol.toStringTag])}},{}],5:[function(t,e,r){"use strict";e.exports=function(t){return!!t&&("symbol"==typeof t||!!t.constructor&&("Symbol"===t.constructor.name&&"Symbol"===t[t.constructor.toStringTag]))}},{}],6:[function(t,e,r){"use strict";var n,o=t("es5-ext/object/assign"),i=t("es5-ext/object/normalize-options"),s=t("es5-ext/object/is-callable"),u=t("es5-ext/string/#/contains");n=e.exports=function(t,e){var r,n,s,a,c;return arguments.length<2||"string"!=typeof t?(a=e,e=t,t=null):a=arguments[2],null==t?(r=s=!0,n=!1):(r=u.call(t,"c"),n=u.call(t,"e"),s=u.call(t,"w")),c={value:e,configurable:r,enumerable:n,writable:s},a?o(i(a),c):c},n.gs=function(t,e,r){var n,a,c,l;return"string"!=typeof t?(c=r,r=e,e=t,t=null):c=arguments[3],null==e?e=void 0:s(e)?null==r?r=void 0:s(r)||(c=r,r=void 0):(c=e,e=r=void 0),null==t?(n=!0,a=!1):(n=u.call(t,"c"),a=u.call(t,"e")),l={get:e,set:r,configurable:n,enumerable:a},c?o(i(c),l):l}},{"es5-ext/object/assign":7,"es5-ext/object/is-callable":10,"es5-ext/object/normalize-options":14,"es5-ext/string/#/contains":16}],7:[function(t,e,r){"use strict";e.exports=t("./is-implemented")()?Object.assign:t("./shim")},{"./is-implemented":8,"./shim":9}],8:[function(t,e,r){"use strict";e.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(t={foo:"raz"},e(t,{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},{}],9:[function(t,e,r){"use strict";var n=t("../keys"),o=t("../valid-value"),i=Math.max;e.exports=function(t,e){var r,s,u,a=i(arguments.length,2);for(t=Object(o(t)),u=function(n){try{t[n]=e[n]}catch(t){r||(r=t)}},s=1;s<a;++s)e=arguments[s],n(e).forEach(u);if(void 0!==r)throw r;return t}},{"../keys":11,"../valid-value":15}],10:[function(t,e,r){"use strict";e.exports=function(t){return"function"==typeof t}},{}],11:[function(t,e,r){"use strict";e.exports=t("./is-implemented")()?Object.keys:t("./shim")},{"./is-implemented":12,"./shim":13}],12:[function(t,e,r){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},{}],13:[function(t,e,r){"use strict";var n=Object.keys;e.exports=function(t){return n(null==t?t:Object(t))}},{}],14:[function(t,e,r){"use strict";var n=Array.prototype.forEach,o=Object.create,i=function(t,e){var r;for(r in t)e[r]=t[r]};e.exports=function(t){var e=o(null);return n.call(arguments,function(t){null!=t&&i(Object(t),e)}),e}},{}],15:[function(t,e,r){"use strict";e.exports=function(t){if(null==t)throw new TypeError("Cannot use null or undefined");return t}},{}],16:[function(t,e,r){"use strict";e.exports=t("./is-implemented")()?String.prototype.contains:t("./shim")},{"./is-implemented":17,"./shim":18}],17:[function(t,e,r){"use strict";var n="razdwatrzy";e.exports=function(){return"function"==typeof n.contains&&(n.contains("dwa")===!0&&n.contains("foo")===!1)}},{}],18:[function(t,e,r){"use strict";var n=String.prototype.indexOf;e.exports=function(t){return n.call(this,t,arguments[1])>-1}},{}],19:[function(t,e,r){"use strict";var n,o,i,s,u=t("d"),a=t("./validate-symbol"),c=Object.create,l=Object.defineProperties,f=Object.defineProperty,h=Object.prototype,p=c(null);if("function"==typeof Symbol){n=Symbol;try{String(n()),s=!0}catch(t){}}var y=function(){var t=c(null);return function(e){for(var r,n,o=0;t[e+(o||"")];)++o;return e+=o||"",t[e]=!0,r="@@"+e,f(h,r,u.gs(null,function(t){n||(n=!0,f(this,r,u(t)),n=!1)})),r}}();i=function(t){if(this instanceof i)throw new TypeError("TypeError: Symbol is not a constructor");return o(t)},e.exports=o=function t(e){var r;if(this instanceof t)throw new TypeError("TypeError: Symbol is not a constructor");return s?n(e):(r=c(i.prototype),e=void 0===e?"":String(e),l(r,{__description__:u("",e),__name__:u("",y(e))}))},l(o,{for:u(function(t){return p[t]?p[t]:p[t]=o(String(t))}),keyFor:u(function(t){var e;a(t);for(e in p)if(p[e]===t)return e}),hasInstance:u("",n&&n.hasInstance||o("hasInstance")),isConcatSpreadable:u("",n&&n.isConcatSpreadable||o("isConcatSpreadable")),iterator:u("",n&&n.iterator||o("iterator")),match:u("",n&&n.match||o("match")),replace:u("",n&&n.replace||o("replace")),search:u("",n&&n.search||o("search")),species:u("",n&&n.species||o("species")),split:u("",n&&n.split||o("split")),toPrimitive:u("",n&&n.toPrimitive||o("toPrimitive")),toStringTag:u("",n&&n.toStringTag||o("toStringTag")),unscopables:u("",n&&n.unscopables||o("unscopables"))}),l(i.prototype,{constructor:u(o),toString:u("",function(){return this.__name__})}),l(o.prototype,{toString:u(function(){return"Symbol ("+a(this).__description__+")"}),valueOf:u(function(){return a(this)})}),f(o.prototype,o.toPrimitive,u("",function(){var t=a(this);return"symbol"==typeof t?t:t.toString()})),f(o.prototype,o.toStringTag,u("c","Symbol")),f(i.prototype,o.toStringTag,u("c",o.prototype[o.toStringTag])),f(i.prototype,o.toPrimitive,u("c",o.prototype[o.toPrimitive]))},{"./validate-symbol":20,d:6}],20:[function(t,e,r){"use strict";var n=t("./is-symbol");e.exports=function(t){if(!n(t))throw new TypeError(t+" is not a symbol");return t}},{"./is-symbol":5}]},{},[1])(1)});